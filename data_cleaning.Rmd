---
title: "Data Cleaning"
author: "Jessica Wu"
date: "4/13/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(janitor)
library(gt)
library(lubridate)
library(gganimate)
library(tidycensus)
library(tidyverse)
options(tigris_use_cache = TRUE)
```

```{r median_income_by_county}
pop <- get_decennial(geography = "county",
                     variables = "P001001",
                     year = 2010,
                     output = "wide",
                     geometry = TRUE,
                     shift_geo = TRUE)

medinc <- get_acs(geography = "county",
              variables = c(medincome = "B19013_001"),
              year = 2018) %>%
  rename(medincome = estimate) %>%
  select(GEOID, NAME, medincome)

pop <- pop %>%
  left_join(medinc, by = c("GEOID", "NAME"))

medinc_by_county <- pop %>%
  ggplot(aes(fill = medincome)) +
  geom_sf() +
  scale_fill_viridis_c(option = "plasma",
                       direction = -1) +
  labs(title = "Median Income of the United States",
       caption = "Source: Census 2010",
       fill = "Median Income") +
  theme_void()

medinc_by_county
```

